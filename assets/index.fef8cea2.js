var e=Object.defineProperty,t=(t,a,n)=>(((t,a,n)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n})(t,"symbol"!=typeof a?a+"":a,n),n);import{p as a}from"./vendor.4fccdb7b.js";var n={a1:0,a2:0,a1_v:0,a2_v:0,a1_a:0,a2_a:0,x1:0,y1:0,x2:0,y2:0,trail:[],startedAt:(new Date).getTime(),menuOpen:!0,timeSimulationRunning:0,timeLastFrame:0,L:180,m1:4,m2:2,start_a1:Math.PI,start_a2:Math.PI+1e-5,g:1.4,simulationPaused:!0,restartAfter:30,trailType:"solid",rainbowSpeed:4,trailColor:[0,255,0],trailWidth:2,stickColor:[200,200,200],ballColor:[110,110,100],stickWidth:3,ballSize:25,drawAxes:!1,drawPendulums:!0,axesColor:[90,90,90],backgroundColor:[24,24,24],hueOffset:0,trailDecay:3e3,showDebug:!1,showAngles:!1};const i=()=>{switch(n.trailType){case"solid":(()=>{let e=n.trail,t=n.trailColor;g.noFill(),g.stroke(t[0],t[1],t[2]),g.strokeWeight(n.trailWidth),g.beginShape(),e.forEach((e=>{g.vertex(r(e.x),l(e.y))})),g.endShape()})();break;case"dots":(()=>{let e=n.trailColor;g.fill(e[0],e[1],e[2]),n.trail.forEach((e=>{g.circle(r(e.x),l(e.y),2*n.trailWidth)}))})();break;case"rainbow":(()=>{g.colorMode(g.HSB),g.strokeWeight(n.trailWidth);for(let e=0;e<n.trail.length-1;e++){let t=n.trail[e],a=n.trail[e+1],i=n.hueOffset+20*t.index%360;for(;i>360;)i-=360;g.stroke(i,100,100),g.line(r(t.x),l(t.y),r(a.x),l(a.y))}n.hueOffset+=n.rainbowSpeed,g.colorMode(g.RGB)})()}},r=e=>e+g.width/2,l=e=>e+g.height/2;function o(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}function s(e,t){document.getElementById(e+"-value").innerText=t}document.getElementById("stick-length").oninput=e=>{n.L=parseInt(e.target.value),s(e.target.id,parseInt(e.target.value))},document.getElementById("upper-mass").oninput=e=>{n.m1=parseFloat(e.target.value),s(e.target.id,parseFloat(e.target.value))},document.getElementById("lower-mass").oninput=e=>{n.m2=parseFloat(e.target.value),s(e.target.id,parseFloat(e.target.value))},document.getElementById("g-constant").oninput=e=>{n.g=parseFloat(e.target.value),s(e.target.id,parseFloat(e.target.value))},document.getElementById("restart-after").oninput=e=>{n.restartAfter=parseInt(e.target.value),s(e.target.id,parseInt(e.target.value))},document.getElementById("rainbow-speed").oninput=e=>{n.rainbowSpeed=parseInt(e.target.value),s(e.target.id,parseInt(e.target.value))},document.getElementById("line-width").oninput=e=>{n.trailWidth=parseInt(e.target.value),s(e.target.id,parseInt(e.target.value))},document.getElementById("line-decay").oninput=e=>{n.trailDecay=parseInt(e.target.value),s(e.target.id,parseInt(e.target.value))},document.getElementById("stick-width").oninput=e=>{n.stickWidth=parseInt(e.target.value),s(e.target.id,parseInt(e.target.value))},document.getElementById("ball-size").oninput=e=>{n.ballSize=parseInt(e.target.value),s(e.target.id,parseInt(e.target.value))},document.getElementById("line-type").onchange=e=>{n.trailType=e.target.value},document.getElementById("start-stop-button").onclick=e=>{u(!n.simulationPaused)},document.getElementById("line-color").oninput=e=>{n.trailColor=o(e.target.value)},document.getElementById("stick-color").oninput=e=>{n.stickColor=o(e.target.value)},document.getElementById("ball-color").oninput=e=>{n.ballColor=o(e.target.value)},document.getElementById("background-color").oninput=e=>{n.backgroundColor=o(e.target.value)},document.getElementById("reset-button").onclick=e=>{d()},document.getElementById("show-axes").onchange=e=>{n.drawAxes=e.target.checked},document.getElementById("show-pendulums").onchange=e=>{n.drawPendulums=e.target.checked},document.getElementById("show-angles").onchange=e=>{n.showAngles=e.target.checked},document.getElementById("show-debug").onchange=e=>{n.showDebug=e.target.checked},document.getElementById("close-menu").onclick=()=>{document.getElementById("side-bar").hidden=!0,n.menuOpen=!1,g.windowResized()},document.getElementById("open-menu").onclick=()=>{document.getElementById("side-bar").hidden=!1,n.menuOpen=!0,g.windowResized()};const d=(e=!0)=>{n.a1_v=0,n.a2_v=0,n.a1_a=0,n.a2_a=0,n.a1=Math.PI-g.random(-.5*Math.PI,.5*Math.PI),n.a2=g.random(0,2*Math.PI),n.start_a1=n.a1,n.start_a2=n.a2,n.hueOffset=0,n.timeSimulationRunning=0,n.trail=[],n.x1=n.L*Math.sin(n.a1),n.y1=n.L*Math.cos(n.a1),n.x2=n.x1+n.L*Math.sin(n.a2),n.y2=n.y1+n.L*Math.cos(n.a2),u(e)},u=e=>{n.simulationPaused=e,document.getElementById("start-stop-button").value=e?"Start":"Stop",e||(n.timeLastFrame=(new Date).getTime())},g=new a((e=>{e.setup=()=>{e.createCanvas(window.innerWidth-300,window.innerHeight),e.frameRate(30),n.a1=n.start_a1,n.a2=n.start_a2},e.draw=()=>{if((()=>{let e=n.backgroundColor;g.background(e[0],e[1],e[2])})(),!n.simulationPaused)for((()=>{let e=-n.g*(2*n.m1+n.m2)*Math.sin(n.a1),t=-n.m2*n.g*Math.sin(n.a1-2*n.a2),a=-2*Math.sin(n.a1-n.a2)*n.m2,i=n.a2_v*n.a2_v*n.L+n.a1_v*n.a1_v*n.L*Math.cos(n.a1-n.a2),r=n.L*(2*n.m1+n.m2-n.m2*Math.cos(2*n.a1-2*n.a2));n.a1_a=(e+t+a*i)/r,e=2*Math.sin(n.a1-n.a2),t=n.a1_v*n.a1_v*n.L*(n.m1+n.m2),a=n.g*(n.m1+n.m2)*Math.cos(n.a1),i=n.a2_v*n.a2_v*n.L*n.m2*Math.cos(n.a1-n.a2),r=n.L*(2*n.m1+n.m2-n.m2*Math.cos(2*n.a1-2*n.a2)),n.a2_a=e*(t+a+i)/r,n.a1_v+=n.a1_a,n.a2_v+=n.a2_a,n.a1_v*=.99998,n.a2_v*=.99998,n.a1+=n.a1_v,n.a2+=n.a2_v})(),n.trail.push(new class{constructor(e,a){t(this,"x"),t(this,"y"),t(this,"timeCreated"),t(this,"index"),this.x=e,this.y=a,this.timeCreated=(new Date).getTime(),this.index=n.trail.length>0?n.trail[n.trail.length-1].index+1:0}}(n.x2,n.y2));n.trail.length>n.trailDecay;)n.trail.splice(0,1);n.x1=n.L*Math.sin(n.a1),n.y1=n.L*Math.cos(n.a1),n.x2=n.x1+n.L*Math.sin(n.a2),n.y2=n.y1+n.L*Math.cos(n.a2),n.drawAxes&&(()=>{let e=n.axesColor;g.stroke(e[0],e[1],e[2]),g.strokeWeight(1),g.line(g.width/2,0,g.width/2,g.height),g.line(0,g.height/2,g.width,g.height/2),g.noFill(),g.circle(r(0),l(0),2*n.L),g.circle(r(0),l(0),4*n.L)})(),n.showDebug&&(()=>{g.fill(100),g.textSize(20),g.textFont("Arial"),g.noStroke();let e=[],t=(Math.round(n.timeSimulationRunning/100)/10).toString();t.includes(".")||(t+=".0"),e.push("Time Running: "+t+" (s)");let a=(Math.round(n.a1/Math.PI*1e6)/1e6).toString();a.includes(".")||(a+=".000000"),e.push("Upper Angle: "+a+"π");let i=(Math.round(n.a2/Math.PI*1e6)/1e6).toString();i.includes(".")||(i+=".000000"),e.push("Lower Angle: "+i+"π");let r=Math.round(1/(g.deltaTime/1e3)*10)/10;e.push("FPS: "+r);let l=g.height-20;e.forEach((e=>{g.text(e,20,l),l-=25}))})(),i(),n.showAngles&&(()=>{let e=n.stickColor,t=g.color(e[0],e[1],e[2]);t.setAlpha(50),g.fill(t),g.stroke(e[0],e[1],e[2]),g.strokeWeight(2);let a=n.a1%(2*Math.PI);g.arc(r(0),l(0),.8*n.L,.8*n.L,n.x1<0?.5*Math.PI:-1*a+.5*Math.PI,n.x1>=0?.5*Math.PI:-1*a+.5*Math.PI,g.PIE);let i=n.a2%(2*Math.PI);g.arc(r(n.x1),l(n.y1),.8*n.L,.8*n.L,n.x2<n.x1?.5*Math.PI:-1*i+.5*Math.PI,n.x2>=n.x1?.5*Math.PI:-1*i+.5*Math.PI,g.PIE)})(),n.drawPendulums&&(()=>{let e=n.stickColor;g.stroke(e[0],e[1],e[2]),g.strokeWeight(n.stickWidth),g.line(g.width/2,g.height/2,r(n.x1),l(n.y1)),g.line(r(n.x1),l(n.y1),r(n.x2),l(n.y2));let t=n.ballColor;g.fill(t[0],t[1],t[2]),g.noStroke(),g.circle(r(n.x1),l(n.y1),n.ballSize),g.circle(r(n.x2),l(n.y2),n.ballSize),g.circle(r(0),l(0),8)})();let e=(new Date).getTime();n.simulationPaused||(n.timeSimulationRunning+=e-n.timeLastFrame),n.timeLastFrame=e,n.timeSimulationRunning>=1e3*n.restartAfter&&d(!1)},e.windowResized=()=>{g.resizeCanvas(window.innerWidth-(n.menuOpen?300:0),window.innerHeight)}}));
