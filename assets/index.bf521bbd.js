var e=Object.defineProperty,t=(t,a,n)=>(((t,a,n)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n})(t,"symbol"!=typeof a?a+"":a,n),n);import{p as a}from"./vendor.4fccdb7b.js";var n={a1:0,a2:0,a1_v:0,a2_v:0,a1_a:0,a2_a:0,x1:0,y1:0,x2:0,y2:0,trail:[],startedAt:(new Date).getTime(),menuOpen:!0,L:180,m1:4,m2:2,start_a1:Math.PI,start_a2:Math.PI+1e-5,g:.4,simulationPaused:!0,restartAfter:30,trailType:"rainbow",rainbowSpeed:4,trailColor:[0,255,0],trailWidth:2,stickColor:[200,200,200],ballColor:[110,110,100],stickWidth:3,ballSize:25,drawAxes:!1,drawPendulums:!0,axesColor:[90,90,90],backgroundColor:[24,24,24],hueOffset:0,trailDecay:3e3};const r=()=>{switch(n.trailType){case"solid":(()=>{let e=n.trail,t=n.trailColor;u.noFill(),u.stroke(t[0],t[1],t[2]),u.strokeWeight(n.trailWidth),u.beginShape(),e.forEach((e=>{u.vertex(e.x,e.y)})),u.endShape()})();break;case"dots":(()=>{let e=n.trailColor;u.fill(e[0],e[1],e[2]),n.trail.forEach((e=>{u.circle(e.x,e.y,2*n.trailWidth)}))})();break;case"rainbow":(()=>{u.colorMode(u.HSB),u.strokeWeight(n.trailWidth);for(let e=0;e<n.trail.length-1;e++){let t=n.trail[e],a=n.trail[e+1],r=n.hueOffset+20*t.index%360;for(;r>360;)r-=360;u.stroke(r,100,100),u.line(t.x,t.y,a.x,a.y)}n.hueOffset+=n.rainbowSpeed,u.colorMode(u.RGB)})()}},i=e=>e+u.width/2,l=e=>e+u.height/2;function o(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}function d(e,t){document.getElementById(e+"-value").innerText=t}document.getElementById("stick-length").oninput=e=>{n.L=parseInt(e.target.value),d(e.target.id,parseInt(e.target.value))},document.getElementById("upper-mass").oninput=e=>{n.m1=parseFloat(e.target.value),d(e.target.id,parseFloat(e.target.value))},document.getElementById("lower-mass").oninput=e=>{n.m2=parseFloat(e.target.value),d(e.target.id,parseFloat(e.target.value))},document.getElementById("g-constant").oninput=e=>{n.g=parseFloat(e.target.value),d(e.target.id,parseFloat(e.target.value))},document.getElementById("restart-after").oninput=e=>{n.restartAfter=parseInt(e.target.value),d(e.target.id,parseInt(e.target.value))},document.getElementById("rainbow-speed").oninput=e=>{n.rainbowSpeed=parseInt(e.target.value),d(e.target.id,parseInt(e.target.value))},document.getElementById("line-width").oninput=e=>{n.trailWidth=parseInt(e.target.value),d(e.target.id,parseInt(e.target.value))},document.getElementById("line-decay").oninput=e=>{n.trailDecay=parseInt(e.target.value),d(e.target.id,parseInt(e.target.value))},document.getElementById("stick-width").oninput=e=>{n.stickWidth=parseInt(e.target.value),d(e.target.id,parseInt(e.target.value))},document.getElementById("ball-size").oninput=e=>{n.ballSize=parseInt(e.target.value),d(e.target.id,parseInt(e.target.value))},document.getElementById("line-type").onchange=e=>{n.trailType=e.target.value},document.getElementById("start-stop-button").onclick=e=>{n.simulationPaused=!n.simulationPaused,e.target.value=n.simulationPaused?"Start":"Stop"},document.getElementById("line-color").oninput=e=>{n.trailColor=o(e.target.value)},document.getElementById("stick-color").oninput=e=>{n.stickColor=o(e.target.value)},document.getElementById("ball-color").oninput=e=>{n.ballColor=o(e.target.value)},document.getElementById("background-color").oninput=e=>{n.backgroundColor=o(e.target.value)},document.getElementById("reset-button").onclick=e=>{s()},document.getElementById("show-axes").onchange=e=>{n.drawAxes=e.target.checked},document.getElementById("show-pendulums").onchange=e=>{n.drawPendulums=e.target.checked},document.getElementById("close-menu").onclick=()=>{document.getElementById("side-bar").hidden=!0,n.menuOpen=!1,u.windowResized()},document.getElementById("open-menu").onclick=()=>{document.getElementById("side-bar").hidden=!1,n.menuOpen=!0,u.windowResized()};const s=()=>{n.a1_v=0,n.a2_v=0,n.a1_a=0,n.a2_a=0,n.a1=Math.PI-u.random(-.5*Math.PI,.5*Math.PI),n.a2=u.random(0,2*Math.PI),n.start_a1=n.a1,n.start_a2=n.a2,n.trail=[],n.hueOffset=0,n.simulationPaused=!0},u=new a((e=>{e.setup=()=>{e.createCanvas(window.innerWidth-300,window.innerHeight),n.a1=n.start_a1,n.a2=n.start_a2},e.draw=()=>{if((()=>{let e=n.backgroundColor;u.background(e[0],e[1],e[2])})(),!n.simulationPaused)for((()=>{let e=-n.g*(2*n.m1+n.m2)*Math.sin(n.a1),t=-n.m2*n.g*Math.sin(n.a1-2*n.a2),a=-2*Math.sin(n.a1-n.a2)*n.m2,r=n.a2_v*n.a2_v*n.L+n.a1_v*n.a1_v*n.L*Math.cos(n.a1-n.a2),i=n.L*(2*n.m1+n.m2-n.m2*Math.cos(2*n.a1-2*n.a2));n.a1_a=(e+t+a*r)/i,e=2*Math.sin(n.a1-n.a2),t=n.a1_v*n.a1_v*n.L*(n.m1+n.m2),a=n.g*(n.m1+n.m2)*Math.cos(n.a1),r=n.a2_v*n.a2_v*n.L*n.m2*Math.cos(n.a1-n.a2),i=n.L*(2*n.m1+n.m2-n.m2*Math.cos(2*n.a1-2*n.a2)),n.a2_a=e*(t+a+r)/i,n.a1_v+=n.a1_a,n.a2_v+=n.a2_a,n.a1_v*=.99998,n.a2_v*=.99998,n.a1+=n.a1_v,n.a2+=n.a2_v})(),n.trail.push(new class{constructor(e,a){t(this,"x"),t(this,"y"),t(this,"timeCreated"),t(this,"index"),this.x=i(e),this.y=l(a),this.timeCreated=(new Date).getTime(),this.index=n.trail.length>0?n.trail[n.trail.length-1].index+1:0}}(n.x2,n.y2));n.trail.length>n.trailDecay;)n.trail.splice(0,1);n.x1=n.L*Math.sin(n.a1),n.y1=n.L*Math.cos(n.a1),n.x2=n.x1+n.L*Math.sin(n.a2),n.y2=n.y1+n.L*Math.cos(n.a2),n.drawAxes&&(()=>{let e=n.axesColor;u.stroke(e[0],e[1],e[2]),u.strokeWeight(1),u.line(u.width/2,0,u.width/2,u.height),u.line(0,u.height/2,u.width,u.height/2),u.noFill(),u.circle(i(0),l(0),2*n.L),u.circle(i(0),l(0),4*n.L)})(),r(),n.drawPendulums&&(()=>{let e=n.stickColor;u.stroke(e[0],e[1],e[2]),u.strokeWeight(n.stickWidth),u.line(u.width/2,u.height/2,i(n.x1),l(n.y1)),u.line(i(n.x1),l(n.y1),i(n.x2),l(n.y2));let t=n.ballColor;u.fill(t[0],t[1],t[2]),u.noStroke(),u.circle(i(n.x1),l(n.y1),n.ballSize),u.circle(i(n.x2),l(n.y2),n.ballSize),u.circle(i(0),l(0),8)})()},e.windowResized=()=>{u.resizeCanvas(window.innerWidth-(n.menuOpen?300:0),window.innerHeight)}}));
